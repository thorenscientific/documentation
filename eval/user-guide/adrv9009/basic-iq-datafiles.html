<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Basic IQ Datafiles &#8212; System Level Documentation  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=8e8a900e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/style.min.css?v=95305861" />
    <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script defer="" src="../../../_static/app.umd.js?v=c93eadd1"></script>
    <link rel="icon" href="../../../_static/icon.svg"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Engineering University Program" href="../../../university/index.html" />
    <link rel="prev" title="ZCU102 Quickstart" href="quickstart/zynqmp.html" />
   
  
  <meta name="global_root" content="../../../../">
  <meta name="repo" content="documentation">
  


<style>
  body {
    
  }

  body.dark {
    
  }

  @media (prefers-color-scheme: dark) {
    body:not(.light) {
      
    }
  }
</style>
  </head><body>
  <div class="banner"></div>
  <input type="checkbox" id="input-show-toc">
  <input type="checkbox" id="input-show-localtoc">
  <input type="checkbox" id="input-show-repotoc">

  
  <div class="search-area">
    <form action="" method="get">
      <input type="text" name="q" aria-labelledby="search-documentation" value="" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="search" placeholder="Search"/>
      <button value="search" class="icon"></button>
      <span id="search-progress"></span>
    </form>
  </div>
  

  <header>
    <div id="left">
      <label id="show-sidebar" class="icon" for="input-show-toc" title="Show/hide index"></label>
    </div>
    <div id="right">
      <span>
        <a id="logo-org" href="https://analog.com"></a>
        <div class="vertical-divider"></div>
        <label id="show-repotoc" for="input-show-repotoc" title="Show/hide docs" tabindex="0">Docs</label>
        <a id="logo" href="../../../index.html">
          <div>System Level</div>
        </a>
      </span>
      <span class="reverse">
        <label id="show-localtoc" class="icon" for="input-show-localtoc" title="Show/hide contents"></label>
      </span>
    </div>
  </header>


  <div class="repotoc-tree overlay">
    <root>
  <a href="../../../index.html" class="current">System Level</a>
  <a href="../../../../hdl/index.html">HDL</a>
  <a href="../../../../testbenches/index.html">HDL Testbenches</a>
  <a href="../../../../pyadi-iio/index.html">Hardware Python Interfaces</a>
  <a href="../../../../libiio/index.html">libiio</a>
  <a href="../../../../no-OS/index.html">no-OS</a>
  <a href="../../../../precision-converters-firmware/index.html">Precision Converters Firmware</a>
  <a href="../../../../PrecisionToolbox/index.html">Precision Toolbox</a>
  <a href="../../../../scopy/index.html">Scopy</a>
  <a href="../../../../doctools/index.html">Doctools</a>
</root>

  </div>
    <div class="localtoc">
      <div class="tocwrapper">
        <div>
          <div class="localtoc-header">On this page</div>
          <a id="scroll-up" href="#top-anchor" title="Back to top"></a>
        </div>
        <nav>
          <ul>
<li><a class="reference internal" href="#">Basic IQ Datafiles</a><ul>
<li><a class="reference internal" href="#example-files">Example files</a></li>
<li><a class="reference internal" href="#matlab-format">MATLAB format</a></li>
<li><a class="reference internal" href="#binary-format">Binary Format</a></li>
<li><a class="reference internal" href="#ascii-format">ASCII Format</a></li>
<li><a class="reference internal" href="#sample-c-code-application">Sample C code Application</a></li>
<li><a class="reference internal" href="#compiling-the-sample-application">Compiling the Sample Application</a></li>
<li><a class="reference internal" href="#usage-examples">Usage Examples</a></li>
</ul>
</li>
</ul>

        </nav>
      </div>
    </div>

  
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
    <a id="no-logo" href="../../../index.html">
      System Level Documentation
    </a><input id="input-switch-toc" type="checkbox">
<label id="show-repotoc" for="input-switch-toc">
All content
</label>
<label id="show-toc" for="input-switch-toc">
Content on this topic
</label>
<div class="repotoc-tree">
  <root>
  <a href="../../../index.html" class="current">System Level</a>
  <a href="../../../../hdl/index.html">HDL</a>
  <a href="../../../../testbenches/index.html">HDL Testbenches</a>
  <a href="../../../../pyadi-iio/index.html">Hardware Python Interfaces</a>
  <a href="../../../../libiio/index.html">libiio</a>
  <a href="../../../../no-OS/index.html">no-OS</a>
  <a href="../../../../precision-converters-firmware/index.html">Precision Converters Firmware</a>
  <a href="../../../../PrecisionToolbox/index.html">Precision Toolbox</a>
  <a href="../../../../scopy/index.html">Scopy</a>
  <a href="../../../../doctools/index.html">Doctools</a>
</root>

</div>
<div class="toc-tree">
  <html>
  <body><p class="caption" role="heading"><span class="caption-text">Kuiper &amp; Linux Kernel</span></p>
<ul>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-1" id="toctree-collapse-1"/><div class="collapse"><a class="reference internal" href="../../../linux/kuiper/index.html">Kuiper Linux</a><label for="toctree-collapse-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../linux/kuiper/release-notes.html">Release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../linux/kuiper/sdcard/index.html">SD Card flashing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../linux/kuiper/project-list.html">Project list</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../linux/kuiper/update.html">Updating</a></li>
</ul>
</li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-2" id="toctree-collapse-2"/><div class="collapse"><a class="reference internal" href="../../../linux/drivers/index.html">Linux drivers</a><label for="toctree-collapse-2"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-2-1" id="toctree-collapse-2-1"/><div class="collapse"><a class="reference internal" href="../../../linux/drivers/iio-transceiver/index.html">IIO Transceivers</a><label for="toctree-collapse-2-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-2-1-1" id="toctree-collapse-2-1-1"/><div class="collapse"><a class="reference internal" href="../../../linux/drivers/iio-transceiver/adrv9009/index.html">ADRV9009, ADRV9008-1, ADRV9008-2</a><label for="toctree-collapse-2-1-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../linux/drivers/iio-transceiver/adrv9009/customization.html">Customization</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-2-2" id="toctree-collapse-2-2"/><div class="collapse"><a class="reference internal" href="../../../linux/drivers/iio/index.html">Linux Industrial I/O Subsystem</a><label for="toctree-collapse-2-2"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../linux/drivers/iio/iio-trig-sysfs.html">iio-trig-sysfs driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../linux/drivers/iio/iio-trig-bfin-timer.html">iio-trig-bfin-timer driver</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-3" id="toctree-collapse-3"/><div class="collapse"><a class="reference internal" href="../../../linux/kernel/index.html">Kernel and devicetrees</a><label for="toctree-collapse-3"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../linux/kernel/petalinux.html">Building with Petalinux</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software</span></p>
<ul>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-4" id="toctree-collapse-4"/><div class="collapse"><a class="reference internal" href="../../../software/iio-oscilloscope/index.html">IIO Oscilloscope</a><label for="toctree-collapse-4"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-4-1" id="toctree-collapse-4-1"/><div class="collapse"><a class="reference internal" href="../../../software/iio-oscilloscope/adrv9009/index.html">ADRV9009</a><label for="toctree-collapse-4-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../software/iio-oscilloscope/adrv9009/plugin.html">Standard Plugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../software/iio-oscilloscope/adrv9009/advanced-plugin.html">Advanced plugin</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-5" id="toctree-collapse-5"/><div class="collapse"><a class="reference internal" href="../../../software/libiio/index.html">Libiio</a><label for="toctree-collapse-5"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../software/libiio/internals.html">About libiio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../software/libiio/cli.html">Command line utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../software/libiio/tips-tricks.html">Tips &amp; Tricks</a></li>
</ul>
</li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-6" id="toctree-collapse-6"/><div class="collapse"><a class="reference internal" href="../../../software/matlab/index.html">MATLAB &amp; Simulink Toolboxes</a><label for="toctree-collapse-6"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../software/matlab/hsx-toolbox/index.html">High Speed Converter Toolbox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../software/matlab/transceiver-toolbox/index.html">Transceiver Toolbox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../software/matlab/bsp-extend.html">Extending Device Interfaces</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../software/pyadi-iio/index.html">PyADI-IIO</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Evaluation Boards</span></p>
<ul class="current">
<li class="toctree-l1 current"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-7" id="toctree-collapse-7" checked=""/><div class="collapse"><a class="reference internal" href="../index.html">User guides</a><label for="toctree-collapse-7"><div class="icon"></div></label></div><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../eval-adxl355-pmdz/index.html">EVAL-ADXL355-PMDZ User Guide</a></li>
<li class="toctree-l2 current"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-7-1" id="toctree-collapse-7-1" checked=""/><div class="collapse"><a class="reference internal" href="index.html">ADRV9009 &amp; ADRV9008</a><label for="toctree-collapse-7-1"><div class="icon"></div></label></div><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="prerequisites.html">Prerequisites</a></li>
<li class="toctree-l3"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-7-1-1" id="toctree-collapse-7-1-1"/><div class="collapse"><a class="reference internal" href="quickstart/index.html">Quickstart</a><label for="toctree-collapse-7-1-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l4"><a class="reference internal" href="quickstart/zynqmp.html">ZCU102</a></li>
</ul>
</li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Basic IQ Datafiles</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">University Program</span></p>
<ul>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-8" id="toctree-collapse-8"/><div class="collapse"><a class="reference internal" href="../../../university/index.html">Engineering University Program</a><label for="toctree-collapse-8"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-8-1" id="toctree-collapse-8-1"/><div class="collapse"><a class="reference internal" href="../../../university/active_learning/index.html">Active Learning: Student-oriented Lab Exercises</a><label for="toctree-collapse-8-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../university/active_learning/wien_bridge_oscillator/index.html">Activity: The Wien Bridge Oscillator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../university/active_learning/efficiency_power_loss/index.html">Activity: Efficiency, Power Loss, and Thermal Management</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Learning</span></p>
<ul>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-9" id="toctree-collapse-9"/><div class="collapse"><a class="reference internal" href="../../../learning/index.html">Learning! Tutorials, Workshops, Etc</a><label for="toctree-collapse-9"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../learning/tutorial_prec_adc/index.html">Precision ADC Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../learning/converter_connectivity_tutorial/index.html">Converter Connectivity Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../learning/sw_infrastructure/index.html">Key ADI’s Software Infrastructure for designing with ADCs, DACs, and Sensors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../learning/tools_for_ls/index.html">Tools for Low Speed Mixed Signal System Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../learning/tools_for_prec_wb/index.html">Tools for Precision Wideband Mixed Signal System Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../learning/tools_for_hs/index.html">Tools for High-Speed Mixed Signal System Design</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributing and Guidelines</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing/forking_publishing.html">Forking and publishing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing/creating_new_pages.html">Creating new pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing/docs_guidelines.html">Documentation guidelines</a></li>
</ul>
</body>
</html>

</div>
        </div>
      </div>

  <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper" id="top-anchor">
          <div class="body" role="main">
            
  <section id="basic-iq-datafiles">
<h1>Basic IQ Datafiles<a class="headerlink" href="#basic-iq-datafiles" title="Link to this heading">#</a></h1>
<p>DDS Mode - DAC Buffer Output allows loading of Matlab MAT, Binary and ASCII TEXT
sample files.</p>
<a class="reference internal image-reference" href="../../../_images/adrv9009_dac_data.png"><img alt="../../../_images/adrv9009_dac_data.png" src="../../../_images/adrv9009_dac_data.png" style="width: 600px;" />
</a>
<section id="example-files">
<h2>Example files<a class="headerlink" href="#example-files" title="Link to this heading">#</a></h2>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Filename</p></th>
<th class="head"><p>File type</p></th>
<th class="head"><p>suggested sample rate</p></th>
<th class="head"><p>what it is</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>10.txt</p></td>
<td><p>text file</p></td>
<td><p>any</p></td>
<td><p>basic IQ imbalance test waveform. The frequency that you will see will
be determined by the sample rate.</p></td>
</tr>
<tr class="row-odd"><td><p>11.txt</p></td>
<td><p>text file</p></td>
<td><p>any</p></td>
<td><p>basic IQ imbalance test waveform The frequency that you will see will be
determined by the sample rate.</p></td>
</tr>
<tr class="row-even"><td><p>1M_10M_nyq.txt</p></td>
<td><p>text file</p></td>
<td><p>any</p></td>
<td><p>10 point sine wave, generating 12.88MHz tone &#64; 122.88MSPS</p></td>
</tr>
<tr class="row-odd"><td><p>LTE5.mat</p></td>
<td><p>MATLAB file</p></td>
<td><p>7.68MSPS</p></td>
<td><p>Created via
<a class="reference external" href="https://wiki.analog.com/resources/tools-software/linux-software/libiio/clients/lte_example">lte_example</a></p></td>
</tr>
<tr class="row-even"><td><p>LTE10.mat</p></td>
<td><p>MATLAB file</p></td>
<td><p>15.36MSPS</p></td>
<td><p>Created via
<a class="reference external" href="https://wiki.analog.com/resources/tools-software/linux-software/libiio/clients/lte_example">lte_example</a></p></td>
</tr>
<tr class="row-odd"><td><p>LTE15.mat</p></td>
<td><p>MATLAB file</p></td>
<td><p>23.04MSPS</p></td>
<td><p>Created via
<a class="reference external" href="https://wiki.analog.com/resources/tools-software/linux-software/libiio/clients/lte_example">lte_example</a></p></td>
</tr>
<tr class="row-even"><td><p>LTE20.mat</p></td>
<td><p>MATLAB file</p></td>
<td><p>30.72MSPS</p></td>
<td><p>Created via
<a class="reference external" href="https://wiki.analog.com/resources/tools-software/linux-software/libiio/clients/lte_example">lte_example</a></p></td>
</tr>
<tr class="row-odd"><td><p>sinewave_0.3.mat</p></td>
<td><p>MATLAB file</p></td>
<td><p>any</p></td>
<td><p>A sine wave with the amplitude of 0.3 for one I &amp; Q channel. This should
be scaled to 30% of full scale. The I/Q channel will be duplicated on
channel 1 and 2.</p></td>
</tr>
<tr class="row-even"><td><p>sinewave_0.3_2ch.mat</p></td>
<td><p>MATLAB file</p></td>
<td><p>any</p></td>
<td><p>A sine wave with the amplitude of 0.3 for two I &amp; Q channels. This
should be scaled to 30% of full scale. Separate data will be sent on
channel 1 and 2.</p></td>
</tr>
<tr class="row-odd"><td><p>sinewave_0.6.mat</p></td>
<td><p>MATLAB file</p></td>
<td><p>any</p></td>
<td><p>A sine wave with the amplitude of 0.6 for one I &amp; Q channel. This should
be scaled to 60% of full scale. The I/Q channel will be duplicated on
channel 1 and 2.</p></td>
</tr>
<tr class="row-even"><td><p>sinewave_0.6_2ch.mat</p></td>
<td><p>MATLAB file</p></td>
<td><p>any</p></td>
<td><p>A sine wave with the amplitude of 0.6 for two I &amp; Q channels. This
should be scaled to 60% of full scale. Separate data will be sent on
channel 1 and 2.</p></td>
</tr>
<tr class="row-odd"><td><p>sinewave_0.9.mat</p></td>
<td><p>MATLAB file</p></td>
<td><p>any</p></td>
<td><p>A sine wave with the amplitude of 0.9 for one I &amp; Q channel. This should
be scaled to 90% of full scale. The I/Q channel will be duplicated on
channel 1 and 2.</p></td>
</tr>
<tr class="row-even"><td><p>sinewave_0.9_2ch.mat</p></td>
<td><p>MATLAB file</p></td>
<td><p>any</p></td>
<td><p>A sine wave with the amplitude of 0.9 for two I &amp; Q channels. This
should be scaled to 90% of full scale. Separate data will be sent on
channel 1 and 2.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The modulated waveforms (QPSK, MSK, etc) are designed to go= through a
receiver design. (this would include root raised cosine decimator,
equalization, frequency compenstation, retiming, etc. and is best looked at
by a MathWorks example
<a class="reference external" href="https://www.mathworks.com/help/comm/examples/hdl-optimized-qpsk-receiver-with-captured-data.html">here</a>.
Since there is no default receiver in the default HDL design that ADI provides -
looking at things with the osc application - you will not see good results.
This is expected, and normal.</p>
</div>
</section>
<section id="matlab-format">
<h2>MATLAB format<a class="headerlink" href="#matlab-format" title="Link to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">./osc</span></code> application uses the
<a class="reference external" href="http://sourceforge.net/projects/matio/">MAT File I/O Library</a>
to be able to read
<a class="reference external" href="https://www.mathworks.com/products/matlab">MATLAB</a> files into the system.</p>
<p>There are two ways to scale the data:</p>
<ul class="simple">
<li><p>less than ±1.0 : ±1.0 will be assumed as full scale, so something that is
±0.5 will come out as half scale.</p></li>
<li><p>more than ±1.0 : The max point in the data will be found, and this will be
assumed to be full scale.</p></li>
</ul>
<p>There are two ways to arrange the data:</p>
<ul class="simple">
<li><p>vectors of complex data</p></li>
<li><p>vectors of real data. The first vector is Q (real) and second is I
(imaginary)</p></li>
</ul>
<p>Basic examples are checked into the waveforms directory, which can be loaded up
in <a class="reference external" href="https://www.mathworks.com/products/matlab">MATLAB</a> for further explanation.</p>
</section>
<section id="binary-format">
<h2>Binary Format<a class="headerlink" href="#binary-format" title="Link to this heading">#</a></h2>
<p>In binary format each I or Q word is in 16-bit signed format.</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Buffer Bit</p></th>
<th class="head"><p>15</p></th>
<th class="head"><p>14</p></th>
<th class="head"><p>13</p></th>
<th class="head"><p>12</p></th>
<th class="head"><p>11</p></th>
<th class="head"><p>10</p></th>
<th class="head"><p>9</p></th>
<th class="head"><p>8</p></th>
<th class="head"><p>7</p></th>
<th class="head"><p>6</p></th>
<th class="head"><p>5</p></th>
<th class="head"><p>4</p></th>
<th class="head"><p>3</p></th>
<th class="head"><p>2</p></th>
<th class="head"><p>1</p></th>
<th class="head"><p>0</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ADRV9009 Bit</p></td>
<td><p>15</p></td>
<td><p>14</p></td>
<td><p>13</p></td>
<td><p>12</p></td>
<td><p>11</p></td>
<td><p>10</p></td>
<td><p>9</p></td>
<td><p>8</p></td>
<td><p>7</p></td>
<td><p>6</p></td>
<td><p>5</p></td>
<td><p>4</p></td>
<td><p>3</p></td>
<td><p>2</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
</tr>
</tbody>
</table>
</div>
<p>An I and Q word together make up one complex symbol for one output channel.</p>
<p>The ADRV9009 features two outputs, In the 2TX output configuration a complete
sample consists of two complex IQ symbols, one for each transmitter. It’s
therefore 64-bit wide.</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>TX 0</p></th>
<th class="head"></th>
<th class="head"><p>TX 1</p></th>
<th class="head"></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>I0</p></td>
<td><p>Q0</p></td>
<td><p>I1</p></td>
<td><p>Q1</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="ascii-format">
<h2>ASCII Format<a class="headerlink" href="#ascii-format" title="Link to this heading">#</a></h2>
<p>A valid ASCII file is prefixed with a ‘TEXT’ magic string. Values are delimited
by either comma, spaces or tabs.</p>
<p>Samples are separated by rows.</p>
<p>In a 2TX configuration, with only one symbol given per line - it will be
repeated for the second TX.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TEXT</span>
<span class="mf">501.000000000</span>   <span class="o">-</span><span class="mf">1.000000000</span>
<span class="mf">405.000000000</span>   <span class="mf">294.000000000</span>
<span class="mf">155.000000000</span>   <span class="mf">476.000000000</span>
<span class="o">-</span><span class="mf">154.000000000</span>  <span class="mf">475.000000000</span>
<span class="o">...</span>
</pre></div>
</div>
<p>Two Symbols per line - one for TX1 and TX2</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TEXT</span>
<span class="mf">0.0002274</span><span class="p">,</span><span class="mf">0.0002274</span><span class="p">,</span><span class="mf">0.0002274</span><span class="p">,</span><span class="o">-</span><span class="mf">0.0002274</span>
<span class="o">-</span><span class="mf">0.002085</span><span class="p">,</span><span class="o">-</span><span class="mf">0.002085</span><span class="p">,</span><span class="o">-</span><span class="mf">0.002085</span><span class="p">,</span><span class="mf">0.002085</span>
<span class="o">-</span><span class="mf">0.001768</span><span class="p">,</span><span class="o">-</span><span class="mf">0.001768</span><span class="p">,</span><span class="o">-</span><span class="mf">0.001768</span><span class="p">,</span><span class="mf">0.001768</span>
<span class="mf">0.001351</span><span class="p">,</span><span class="mf">0.001351</span><span class="p">,</span><span class="mf">0.001351</span><span class="p">,</span><span class="o">-</span><span class="mf">0.001351</span>
<span class="o">...</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The file is being analyzed and <strong>automatically</strong> scaled to full scale!
The latest version of the fmcomms IIO scope plug-in supports the TEXTU option
valid range with the ‘TEXTU’ option is:</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Board</p></th>
<th class="head"><p>Range</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ADRV9009</p></td>
<td><p>+/- 32767.0</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="sample-c-code-application">
<h2>Sample C code Application<a class="headerlink" href="#sample-c-code-application" title="Link to this heading">#</a></h2>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdlib.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdint.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdarg.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;errno.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;unistd.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;math.h&gt;</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
<span class="w">    </span><span class="kt">FILE</span><span class="w"> </span><span class="o">*</span><span class="n">file</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">buf</span><span class="p">;</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">ampl</span><span class="p">;</span>
<span class="w">    </span><span class="kt">short</span><span class="w"> </span><span class="n">ipart</span><span class="p">,</span><span class="w"> </span><span class="n">qpart</span><span class="p">;</span>

<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">((</span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getopt</span><span class="w"> </span><span class="p">(</span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="n">argv</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;f:a:s&quot;</span><span class="p">))</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">-1</span><span class="p">)</span>
<span class="w">        </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="sc">&#39;f&#39;</span><span class="p">:</span>
<span class="w">            </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">atoi</span><span class="p">(</span><span class="n">optarg</span><span class="p">);</span>
<span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="sc">&#39;a&#39;</span><span class="p">:</span>
<span class="w">            </span><span class="n">ampl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">atof</span><span class="p">(</span><span class="n">optarg</span><span class="p">);</span>
<span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="sc">&#39;s&#39;</span><span class="p">:</span>
<span class="w">            </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="w">        </span><span class="k">default</span><span class="o">:</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">buf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">malloc</span><span class="p">(</span><span class="n">f</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">d</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">4</span><span class="p">));</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ampl</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">1.0</span><span class="p">)</span>
<span class="w">        </span><span class="n">ampl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.0</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ampl</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">0.0</span><span class="p">)</span>
<span class="w">        </span><span class="n">ampl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/* AD9361 12-bit MSB aligned [(2^(12-1) - 1) * 16]</span>
<span class="cm">     * ADRV9009 16-bit       [2^(16-1) - 1]</span>
<span class="cm">     */</span>

<span class="w">    </span><span class="n">ampl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ampl</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">32767</span><span class="p">;</span>

<span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;32-bit Word: I : Q</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="p">(</span><span class="n">f</span><span class="p">);</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">ipart</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ampl</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">M_PI</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="kt">double</span><span class="p">)</span><span class="n">i</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="kt">double</span><span class="p">)(</span><span class="n">f</span><span class="p">));</span>
<span class="w">        </span><span class="n">qpart</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ampl</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">cos</span><span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">M_PI</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="kt">double</span><span class="p">)</span><span class="n">i</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="kt">double</span><span class="p">)(</span><span class="n">f</span><span class="p">));</span>

<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;0x%.8X : %d : %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">ipart</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="n">qpart</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mh">0xFFFF</span><span class="p">),</span><span class="w">  </span><span class="n">ipart</span><span class="p">,</span><span class="w"> </span><span class="n">qpart</span><span class="p">);</span>

<span class="w">        </span><span class="n">buf</span><span class="p">[</span><span class="n">j</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">ipart</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="n">qpart</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mh">0xFFFF</span><span class="p">);</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">d</span><span class="p">)</span><span class="w"> </span><span class="cm">/* Second Channel */</span>
<span class="w">            </span><span class="n">buf</span><span class="p">[</span><span class="n">j</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">ipart</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="n">qpart</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mh">0xFFFF</span><span class="p">);</span>

<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fopen</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="n">optind</span><span class="p">],</span><span class="w"> </span><span class="s">&quot;w&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">file</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">free</span><span class="p">(</span><span class="n">buf</span><span class="p">);</span>
<span class="w">        </span><span class="n">exit</span><span class="p">(</span><span class="n">EXIT_FAILURE</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">fwrite</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">d</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">4</span><span class="p">),</span><span class="w"> </span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="n">file</span><span class="p">);</span>
<span class="w">    </span><span class="n">fclose</span><span class="p">(</span><span class="n">file</span><span class="p">);</span>
<span class="w">    </span><span class="n">free</span><span class="p">(</span><span class="n">buf</span><span class="p">);</span>

<span class="w">    </span><span class="n">exit</span><span class="p">(</span><span class="n">EXIT_SUCCESS</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="compiling-the-sample-application">
<h2>Compiling the Sample Application<a class="headerlink" href="#compiling-the-sample-application" title="Link to this heading">#</a></h2>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="bold highlight-bash notranslate"><div class="highlight"><pre><span></span>gcc<span class="w"> </span>do_iq.c<span class="w"> </span>-o<span class="w"> </span>do_iq<span class="w"> </span>-lm
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
<section id="usage-examples">
<h2>Usage Examples<a class="headerlink" href="#usage-examples" title="Link to this heading">#</a></h2>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="bold highlight-bash notranslate"><div class="highlight"><pre><span></span>./do_iq<span class="w"> </span>-a<span class="w"> </span><span class="m">1</span>.0<span class="w"> </span>-f<span class="w"> </span><span class="m">20</span><span class="w"> </span>cw_fullscale_f20.bin
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>32-bit Word: I : Q
0x00007FFF : 0 : 32767
0x278D79BB : 10125 : 31163
0x4B3B678D : 19259 : 26509
0x678D4B3B : 26509 : 19259
0x79BB278D : 31163 : 10125
0x7FFF0000 : 32767 : 0
0x79BBD873 : 31163 : -10125
0x678DB4C5 : 26509 : -19259
0x4B3B9873 : 19259 : -26509
0x278D8645 : 10125 : -31163
0x00008001 : 0 : -32767
0xD8738645 : -10125 : -31163
0xB4C59873 : -19259 : -26509
0x9873B4C5 : -26509 : -19259
0x8645D873 : -31163 : -10125
0x80010000 : -32767 : 0
0x8645278D : -31163 : 10125
0x98734B3B : -26509 : 19259
0xB4C5678D : -19259 : 26509
0xD87379BB : -10125 : 31163
</pre></div>
</div>
<div class="clear-left"></div></div></div><div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="bold highlight-bash notranslate"><div class="highlight"><pre><span></span>./do_iq<span class="w"> </span>-a<span class="w"> </span><span class="m">0</span>.5<span class="w"> </span>-f<span class="w"> </span><span class="m">20</span><span class="w"> </span>cw_halfscale_f20.bin
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>32-bit Word: I : Q
0x00003FFF : 0 : 16383
0x13C63CDD : 5062 : 15581
0x259D33C6 : 9629 : 13254
0x33C6259D : 13254 : 9629
0x3CDD13C6 : 15581 : 5062
0x3FFF0000 : 16383 : 0
0x3CDDEC3A : 15581 : -5062
0x33C6DA63 : 13254 : -9629
0x259DCC3A : 9629 : -13254
0x13C6C323 : 5062 : -15581
0x0000C001 : 0 : -16383
0xEC3AC323 : -5062 : -15581
0xDA63CC3A : -9629 : -13254
0xCC3ADA63 : -13254 : -9629
0xC323EC3A : -15581 : -5062
0xC0010000 : -16383 : 0
0xC32313C6 : -15581 : 5062
0xCC3A259D : -13254 : 9629
0xDA6333C6 : -9629 : 13254
0xEC3A3CDD : -5062 : 15581
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
</section>


          </div>
              <div class="related">
                &nbsp;
    <a href="quickstart/zynqmp.html" title="Previous document (Alt+Shift+LeftArrow)" class="prev">ZCU102 Quickstart</a>
    <a href="../../../university/index.html" title="Next document (Alt+Shift+RightArrow)" class="next">Engineering University Program</a>
              </div>
          
        </div>
      </div>
  </div>

  <div id="vertical-border"></div>

  <label id="cancel-area-show-toc" for="input-show-toc"></label>
  <label id="cancel-area-show-localtoc" for="input-show-localtoc"></label>
    <footer>
      &#169;2024, Analog Devices, Inc.
      
      |
      Made with <a href="https://www.sphinx-doc.org/">Sphinx</a>
      &amp; <a href="https://github.com/analogdevicesinc/doctools">Doctools</a>
      
    </footer>
  </body>
</html>