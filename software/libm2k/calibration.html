<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Calibration &#8212; System Level Documentation  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=8e8a900e" />
    <link rel="stylesheet" type="text/css" href="../../_static/style.min.css?v=35d1b53a" />
    <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script defer="" src="../../_static/app.umd.js?v=689b8755"></script>
    <link rel="icon" href="../../_static/icon.svg"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Digital communication" href="digital_communication.html" />
    <link rel="prev" title="Libm2k" href="index.html" />
   
  
  <meta name="global_root" content="../../../">
  <meta name="repo" content="documentation">
  


<style>
  body {
    
  }

  body.dark {
    
  }

  @media (prefers-color-scheme: dark) {
    body:not(.light) {
      
    }
  }
</style>
  </head><body>
  <div class="banner"></div>
  <input type="checkbox" id="input-show-toc">
  <input type="checkbox" id="input-show-localtoc">
  <input type="checkbox" id="input-show-repotoc">

  
  <div class="search-area">
    <form action="" method="get">
      <input type="text" name="q" aria-labelledby="search-documentation" value="" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="search" placeholder="Search"/>
      <button value="search" class="icon"></button>
      <span id="search-progress"></span>
    </form>
  </div>
  

  <header>
    <div id="left">
      <label id="show-sidebar" class="icon" for="input-show-toc" title="Show/hide index"></label>
    </div>
    <div id="right">
      <span>
        <a id="logo-org" href="https://analog.com"></a>
        <div class="vertical-divider"></div>
        <label id="show-repotoc" for="input-show-repotoc" title="Show/hide docs" tabindex="0">Docs</label>
        <a id="logo" href="../../index.html">
          <div>System Level</div>
        </a>
      </span>
      <span class="reverse">
        <label id="show-localtoc" class="icon" for="input-show-localtoc" title="Show/hide contents"></label>
      </span>
    </div>
  </header>


  <div class="repotoc-tree overlay">
    <root>
  <a href="../../index.html" class="current">System Level</a>
  <a href="../../../hdl/index.html">HDL</a>
  <a href="../../../testbenches/index.html">HDL Testbenches</a>
  <a href="../../../pyadi-iio/index.html">Hardware Python Interfaces</a>
  <a href="../../../libiio/index.html">libiio</a>
  <a href="../../../no-OS/index.html">no-OS</a>
  <a href="../../../precision-converters-firmware/index.html">Precision Converters Firmware</a>
  <a href="../../../PrecisionToolbox/index.html">Precision Toolbox</a>
  <a href="../../../scopy/index.html">Scopy</a>
  <a href="../../../doctools/index.html">Doctools</a>
</root>

  </div>
    <div class="localtoc">
      <div class="tocwrapper">
        <div>
          <div class="localtoc-header"></div>
          <a id="scroll-up" href="#top-anchor" title="Back to top"></a>
        </div>
        <nav>
          <ul>
<li><a class="reference internal" href="#">Calibration</a><ul>
<li><a class="reference internal" href="#standard-calibration">Standard calibration</a></li>
<li><a class="reference internal" href="#temperature-calibration">Temperature calibration</a><ul>
<li><a class="reference internal" href="#generating-the-file">Generating the file</a><ul>
<li><a class="reference internal" href="#synopsis">synopsis</a></li>
<li><a class="reference internal" href="#description">description</a></li>
<li><a class="reference internal" href="#examples">examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#calibrating-using-the-ini-file">Calibrating using the ini file</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </nav>
      </div>
    </div>

  
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
    <a id="no-logo" href="../../index.html">
      System Level Documentation
    </a><input id="input-switch-toc" type="checkbox">
<label id="show-repotoc" for="input-switch-toc">
All content
</label>
<label id="show-toc" for="input-switch-toc">
Content on this topic
</label>
<div class="repotoc-tree">
  <root>
  <a href="../../index.html" class="current">System Level</a>
  <a href="../../../hdl/index.html">HDL</a>
  <a href="../../../testbenches/index.html">HDL Testbenches</a>
  <a href="../../../pyadi-iio/index.html">Hardware Python Interfaces</a>
  <a href="../../../libiio/index.html">libiio</a>
  <a href="../../../no-OS/index.html">no-OS</a>
  <a href="../../../precision-converters-firmware/index.html">Precision Converters Firmware</a>
  <a href="../../../PrecisionToolbox/index.html">Precision Toolbox</a>
  <a href="../../../scopy/index.html">Scopy</a>
  <a href="../../../doctools/index.html">Doctools</a>
</root>

</div>
<div class="toc-tree">
  <html>
  <body><p class="caption" role="heading"><span class="caption-text">Kuiper &amp; Linux Kernel</span></p>
<ul>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-1" id="toctree-collapse-1"/><div class="collapse"><a class="reference internal" href="../../linux/kuiper/index.html">Kuiper Linux</a><label for="toctree-collapse-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../linux/kuiper/release-notes.html">Release notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../linux/kuiper/sdcard/index.html">SD Card flashing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../linux/kuiper/project-list.html">Project list</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../linux/kuiper/update.html">Updating</a></li>
</ul>
</li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-2" id="toctree-collapse-2"/><div class="collapse"><a class="reference internal" href="../../linux/drivers/index.html">Linux drivers</a><label for="toctree-collapse-2"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-2-1" id="toctree-collapse-2-1"/><div class="collapse"><a class="reference internal" href="../../linux/drivers/iio-transceiver/index.html">IIO Transceivers</a><label for="toctree-collapse-2-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-2-1-1" id="toctree-collapse-2-1-1"/><div class="collapse"><a class="reference internal" href="../../linux/drivers/iio-transceiver/adrv9009/index.html">ADRV9009, ADRV9008-1, ADRV9008-2</a><label for="toctree-collapse-2-1-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l4"><a class="reference internal" href="../../linux/drivers/iio-transceiver/adrv9009/customization.html">Customization</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-2-2" id="toctree-collapse-2-2"/><div class="collapse"><a class="reference internal" href="../../linux/drivers/iio/index.html">Linux Industrial I/O Subsystem</a><label for="toctree-collapse-2-2"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../linux/drivers/iio/iio-trig-sysfs.html">iio-trig-sysfs driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../linux/drivers/iio/iio-trig-bfin-timer.html">iio-trig-bfin-timer driver</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-3" id="toctree-collapse-3"/><div class="collapse"><a class="reference internal" href="../../linux/kernel/index.html">Kernel and devicetrees</a><label for="toctree-collapse-3"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../linux/kernel/petalinux.html">Building with Petalinux</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software</span></p>
<ul class="current">
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-4" id="toctree-collapse-4"/><div class="collapse"><a class="reference internal" href="../iio-oscilloscope/index.html">IIO Oscilloscope</a><label for="toctree-collapse-4"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-4-1" id="toctree-collapse-4-1"/><div class="collapse"><a class="reference internal" href="../iio-oscilloscope/adrv9009/index.html">ADRV9009</a><label for="toctree-collapse-4-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../iio-oscilloscope/adrv9009/plugin.html">Standard Plugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../iio-oscilloscope/adrv9009/advanced-plugin.html">Advanced plugin</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-5" id="toctree-collapse-5"/><div class="collapse"><a class="reference internal" href="../libiio/index.html">Libiio</a><label for="toctree-collapse-5"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../libiio/internals.html">About libiio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libiio/cli.html">Command line utility</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libiio/tips-tricks.html">Tips &amp; Tricks</a></li>
</ul>
</li>
<li class="toctree-l1 current"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-6" id="toctree-collapse-6" checked=""/><div class="collapse"><a class="reference internal" href="index.html">Libm2k</a><label for="toctree-collapse-6"><div class="icon"></div></label></div><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="digital_communication.html">Digital communication</a></li>
<li class="toctree-l2"><a class="reference internal" href="m2kcli.html">Command line utility</a></li>
</ul>
</li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-7" id="toctree-collapse-7"/><div class="collapse"><a class="reference internal" href="../matlab/index.html">MATLAB &amp; Simulink Toolboxes</a><label for="toctree-collapse-7"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../matlab/hsx-toolbox/index.html">High Speed Converter Toolbox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../matlab/transceiver-toolbox/index.html">Transceiver Toolbox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../matlab/bsp-extend.html">Extending Device Interfaces</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../pyadi-iio/index.html">PyADI-IIO</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Evaluation Boards</span></p>
<ul>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-8" id="toctree-collapse-8"/><div class="collapse"><a class="reference internal" href="../../eval/user-guide/index.html">User guides</a><label for="toctree-collapse-8"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../eval/user-guide/adc_pulsar_single/index.html">Single-Channel, SPI-interface SAR ADC Developer Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../eval/user-guide/adaq2387/index.html">ADAQ2387x and LTC2387 family SAR ADC Developer Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../eval/user-guide/eval-adxl355-pmdz/index.html">ADXL355 3-Axis MEMS Accelerometer Developer Resources</a></li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-8-1" id="toctree-collapse-8-1"/><div class="collapse"><a class="reference internal" href="../../eval/user-guide/adrv9009/index.html">ADRV9009 &amp; ADRV9008</a><label for="toctree-collapse-8-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../eval/user-guide/adrv9009/prerequisites.html">Prerequisites</a></li>
<li class="toctree-l3"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-8-1-1" id="toctree-collapse-8-1-1"/><div class="collapse"><a class="reference internal" href="../../eval/user-guide/adrv9009/quickstart/index.html">Quickstart</a><label for="toctree-collapse-8-1-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l4"><a class="reference internal" href="../../eval/user-guide/adrv9009/quickstart/zynqmp.html">ZCU102</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../eval/user-guide/adrv9009/basic-iq-datafiles.html">Basic IQ Datafiles</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../eval/user-guide/eval-adtf3175d-nxz/index.html">EVAL-ADTF3175D-NXZ User Guide</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Products &amp; Tools</span></p>
<ul>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-9" id="toctree-collapse-9"/><div class="collapse"><a class="reference internal" href="../../tools/m2k/index.html">ADALM2000</a><label for="toctree-collapse-9"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tools/m2k/devs/index.html">For Developers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/m2k/users/index.html">For End Users</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/m2k/help_support.html">Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/m2k/labview.html">Using With LabVIEW</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/m2k/matlab.html">Using with MATLAB</a></li>
</ul>
</li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-10" id="toctree-collapse-10"/><div class="collapse"><a class="reference internal" href="../../tools/pluto-m2k/index.html">Common PLUTO&amp;M2K</a><label for="toctree-collapse-10"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tools/pluto-m2k/building_the_image.html">Building the Firmware Image</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/pluto-m2k/drivers.html">Installing Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/pluto-m2k/firmware.html">Firmware Updates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/pluto-m2k/obtaining_the_sources.html">Obtaining the Build Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/pluto-m2k/reboot.html">Rebooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/pluto-m2k/usb_otg_host.html">USB OTG – HOST function Support</a></li>
</ul>
</li>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-11" id="toctree-collapse-11"/><div class="collapse"><a class="reference internal" href="../../tools/pluto/index.html">ADALM-PLUTO</a><label for="toctree-collapse-11"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-11-1" id="toctree-collapse-11-1"/><div class="collapse"><a class="reference internal" href="../../tools/pluto/devs/index.html">For Developers</a><label for="toctree-collapse-11-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tools/pluto/devs/usb_otg.html">USB OTG</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-11-2" id="toctree-collapse-11-2"/><div class="collapse"><a class="reference internal" href="../../tools/pluto/hacking/index.html">For Hackers</a><label for="toctree-collapse-11-2"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tools/pluto/hacking/hardware.html">ADALM-PLUTO Hardware</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tools/pluto/hacking/listening_to_yourself.html">Self Reception</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tools/pluto/hacking/power_amp.html">Controlling External Devices</a></li>
</ul>
</li>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-11-3" id="toctree-collapse-11-3"/><div class="collapse"><a class="reference internal" href="../../tools/pluto/users/index.html">For End Users</a><label for="toctree-collapse-11-3"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tools/pluto/users/antennas.html">Antennas</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/pluto/help_support.html">Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/pluto/prerequisites.html">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/pluto/transceiver_transferring_data.html">Controlling the transceiver and transferring data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/uartjtag/index.html">ADALM-UARTJTAG</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">University Program</span></p>
<ul>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-12" id="toctree-collapse-12"/><div class="collapse"><a class="reference internal" href="../../university/index.html">Engineering University Program</a><label for="toctree-collapse-12"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-12-1" id="toctree-collapse-12-1"/><div class="collapse"><a class="reference internal" href="../../university/active_learning/index.html">Active Learning: Student-oriented Lab Exercises</a><label for="toctree-collapse-12-1"><div class="icon"></div></label></div><ul>
<li class="toctree-l3"><a class="reference internal" href="../../university/active_learning/wien_bridge_oscillator/index.html">Activity: The Wien Bridge Oscillator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../university/active_learning/efficiency_power_loss/index.html">Activity: Efficiency, Power Loss, and Thermal Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../university/active_learning/buck_converter_basics/index.html">Activity: Buck Converter Basics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../university/active_learning/index.html#main-lab-activities-and-exercise-list">Main Lab Activities and Exercise List</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Learning</span></p>
<ul>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-13" id="toctree-collapse-13"/><div class="collapse"><a class="reference internal" href="../../learning/index.html">Learning! Tutorials, Workshops, Etc</a><label for="toctree-collapse-13"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../learning/tutorial_prec_adc/index.html">Precision ADC Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../learning/converter_connectivity_tutorial/index.html">Converter Connectivity Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../learning/sw_infrastructure/index.html">Key ADI’s Software Infrastructure for designing with ADCs, DACs, and Sensors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../learning/tools_for_ls/index.html">Tools for Low Speed Mixed Signal System Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../learning/tools_for_prec_wb/index.html">Tools for Precision Wideband Mixed Signal System Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../learning/tools_for_hs/index.html">Tools for High-Speed Mixed Signal System Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../learning/workshop_what_sw_for_sdr/index.html">What software do I need for my SDR?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../learning/low_freq_noise/index.html">Low Frequency Noise KWIK Lecture + Lab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../learning/integrated_noise/index.html">Integrated Noise KWIK Lecture + Lab</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">LTspice Examples</span></p>
<ul>
<li class="toctree-l1"><input class="toctree-collapse" type="checkbox" name="toctree-collapse-14" id="toctree-collapse-14"/><div class="collapse"><a class="reference internal" href="../../ltspice_examples/index.html">LTspice Examples</a><label for="toctree-collapse-14"><div class="icon"></div></label></div><ul>
<li class="toctree-l2"><a class="reference internal" href="../../ltspice_examples/lvds_pair/index.html">LTspice Example: LVDS pair</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributing and Guidelines</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/forking_publishing.html">Forking and publishing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/creating_new_pages.html">Creating new pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/docs_guidelines.html">Documentation guidelines</a></li>
</ul>
</body>
</html>

</div>
        </div>
      </div>

  <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper" id="top-anchor">
          <div class="body" role="main">
            
  <section id="calibration">
<span id="libm2k-calibration"></span><h1>Calibration<a class="headerlink" href="#calibration" title="Link to this heading"></a></h1>
<p>Description of the ADALM2000 calibration API in
<a class="reference external" href="https://wiki.analog.com/university/tools/m2k/libm2k/libm2k">libm2k</a>.</p>
<section id="standard-calibration">
<h2>Standard calibration<a class="headerlink" href="#standard-calibration" title="Link to this heading"></a></h2>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>Always disconnect analog inputs/outputs before calibration.</p>
</div>
<p>The libm2k API offers three methods for calibrating the board:</p>
<ul class="simple">
<li><p>calibrateADC(): calibrate ADC</p></li>
<li><p>calibrateDAC(): calibrate DAC</p></li>
<li><p>isCalibrated(): true if at least one calibration procedure was performed on
the current session (firmware version &lt; v0.26) or on the board since was
plugged in (firmware version &gt;= v0.26). The function’s output does not imply
that the last calibration is still valid.</p></li>
</ul>
<p>Python example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">libm2k</span>
<span class="n">ctx</span> <span class="o">=</span> <span class="n">libm2k</span><span class="o">.</span><span class="n">m2kOpen</span><span class="p">()</span>
<span class="k">if</span> <span class="n">ctx</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Connection Error: No ADALM2000 device available/connected to your PC.&quot;</span><span class="p">)</span>
    <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ctx</span><span class="o">.</span><span class="n">calibrateADC</span><span class="p">()</span>
<span class="n">ctx</span><span class="o">.</span><span class="n">calibrateDAC</span><span class="p">()</span>
<span class="c1"># signal processing</span>
<span class="n">libm2k</span><span class="o">.</span><span class="n">contextClose</span><span class="p">(</span><span class="n">ctx</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="temperature-calibration">
<h2>Temperature calibration<a class="headerlink" href="#temperature-calibration" title="Link to this heading"></a></h2>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Only available from firmware version <a class="icon git reference external" href="https://github.com/analogdevicesinc/m2k-fw/tree/v0.26/">v0.26</a>.</p>
</div>
<p>Libm2k offers a way to use prerecorded calibration values that are stored in a
context attribute. Using this approach, there is no need to disconnect the
analog inputs/outputs at every run because the calibration parameters are stored
on the device. Since calibration values are dependent on temperature, a script
will record the values at different temperatures and eventually create a file
that is compatible with libm2k and the context attribute format.</p>
<section id="generating-the-file">
<h3>Generating the file<a class="headerlink" href="#generating-the-file" title="Link to this heading"></a></h3>
<p>The calibration values are written to the context attribute from a file on the
ADALM2000 partition. The values will be stored on the device until they are
overwritten.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>There is a known limitation: The maximum temperature file size
is 4 kb. This will change in a future release.</p>
</div>
<p>This file must be called ‘m2k-calib-temp-lut.ini’ and it should contain only a
row having the following format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cal</span><span class="p">,</span><span class="n">temp_lut</span><span class="o">=</span><span class="p">[</span><span class="o">&lt;</span><span class="n">temperature</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">adc_offset1</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">adc_offset2</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">adc_gain1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">adc_gain2</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">dac_offset1</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">dac_offset2</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">dac_gain1</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">dac_gain2</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">...</span><span class="p">]]</span>
</pre></div>
</div>
<p>Example of file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cal</span><span class="p">,</span><span class="n">temp_lut</span><span class="o">=</span><span class="mf">49.0</span><span class="p">,</span><span class="mi">3038</span><span class="p">,</span><span class="mi">2056</span><span class="p">,</span><span class="mf">0.769531</span><span class="p">,</span><span class="mf">1.07428</span><span class="p">,</span><span class="mi">474</span><span class="p">,</span><span class="mi">2026</span><span class="p">,</span><span class="mf">0.597656</span><span class="p">,</span><span class="mf">0.68335</span><span class="p">,</span><span class="mf">49.2</span><span class="p">,</span><span class="mi">3038</span><span class="p">,</span><span class="mi">2056</span><span class="p">,</span><span class="mf">0.769531</span><span class="p">,</span><span class="mf">1.07428</span><span class="p">,</span><span class="mi">474</span><span class="p">,</span><span class="mi">2026</span><span class="p">,</span><span class="mf">0.597656</span><span class="p">,</span><span class="mf">0.68335</span><span class="p">,</span><span class="mf">49.4</span><span class="p">,</span><span class="mi">3038</span><span class="p">,</span><span class="mi">2057</span><span class="p">,</span><span class="mf">0.769531</span><span class="p">,</span><span class="mf">1.073547</span><span class="p">,</span><span class="mi">474</span><span class="p">,</span><span class="mi">2024</span><span class="p">,</span><span class="mf">0.597656</span><span class="p">,</span><span class="mf">0.683777</span><span class="p">,</span><span class="mf">49.6</span><span class="p">,</span><span class="mi">3038</span><span class="p">,</span><span class="mi">2057</span><span class="p">,</span><span class="mf">0.769531</span><span class="p">,</span><span class="mf">1.073547</span><span class="p">,</span><span class="mi">474</span><span class="p">,</span><span class="mi">2024</span><span class="p">,</span><span class="mf">0.597656</span><span class="p">,</span><span class="mf">0.683777</span>
</pre></div>
</div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>The values differ from board to board.</p>
</div>
<p>The file can be generated by using the following
<a class="icon git reference external" href="https://github.com/analogdevicesinc/libm2k/tree/main/bindings/python/calibration/generate_temperature_calib_lut.py">script</a>.
For better result, please consider exposing ADALM2000 to wider temperature
variations, while the file is generated - will generate calibration values for
more diverse points.</p>
<section id="synopsis">
<h4>synopsis<a class="headerlink" href="#synopsis" title="Link to this heading"></a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">generate_temperature_calib_lut</span> <span class="o">&lt;</span><span class="n">uri</span><span class="o">&gt;</span>
                               <span class="p">[</span><span class="o">-</span><span class="n">h</span> <span class="o">|</span> <span class="o">--</span><span class="n">help</span><span class="p">]</span>
                               <span class="p">[</span><span class="o">-</span><span class="n">t</span> <span class="o">|</span> <span class="o">--</span><span class="n">temperature</span> <span class="n">max_temp</span><span class="p">]</span>
                               <span class="p">[</span><span class="o">-</span><span class="n">T</span> <span class="o">|</span> <span class="o">--</span><span class="n">timeout</span> <span class="nb">min</span><span class="p">]</span>
                               <span class="p">[</span><span class="o">-</span><span class="n">v</span> <span class="o">|</span> <span class="o">--</span><span class="n">values</span> <span class="n">nb_values</span><span class="p">]</span>
                               <span class="p">[</span><span class="o">-</span><span class="n">f</span> <span class="o">|</span> <span class="o">--</span><span class="n">file</span> <span class="n">path</span><span class="p">]</span>
                               <span class="p">[</span><span class="o">-</span><span class="n">a</span> <span class="o">|</span> <span class="o">--</span><span class="n">append</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="description">
<h4>description<a class="headerlink" href="#description" title="Link to this heading"></a></h4>
<p>Generate the temperature calibration lookup table.</p>
<p><strong>temperature</strong> The maximum temperature to stop at (default 75 °C).</p>
<p><strong>timeout</strong> The number of minutes after timeout will occur (default 30 minutes).</p>
<p><strong>values</strong> The maximum number of values to extract at the end.</p>
<p><strong>file</strong> The path to the generated file (default ‘m2k-calib-temp-lut.ini’).</p>
<p><strong>append</strong> Append the new computed values to the existent file.</p>
</section>
<section id="examples">
<h4>examples<a class="headerlink" href="#examples" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Create the ini file ‘m2k-calib-temp-lut.ini’. The process can be stopped by
pressing ‘CTRL + C’, otherwise the process will stop when the temperature of
the board rises up to 75 °C or after 30 minutes</p></li>
</ul>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3<span class="w"> </span>generate_temperature_calib_lut.py<span class="w"> </span>ip:192.168.2.1
</pre></div>
</div>
<div class="clear-left"></div></div></div><ul class="simple">
<li><p>Create the ini file ‘example.ini’. The process can be stopped by pressing
‘CTRL + C’, otherwise the process will stop when the temperature of the board
rises up to 54 °C or after 15 minutes. Extract 5 values from all computed
calibration parameters. If the file is already created, the new computed
values will be appended.</p></li>
</ul>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3<span class="w"> </span>generate_temperature_calib_lut.py<span class="w"> </span>auto<span class="w"> </span>-v<span class="w"> </span><span class="m">5</span><span class="w"> </span>-t<span class="w"> </span><span class="m">54</span><span class="w"> </span>-T<span class="w"> </span><span class="m">15</span><span class="w"> </span>-f<span class="w"> </span><span class="s2">&quot;example.ini&quot;</span><span class="w"> </span>-a
</pre></div>
</div>
<div class="clear-left"></div></div></div></section>
</section>
<section id="calibrating-using-the-ini-file">
<h3>Calibrating using the ini file<a class="headerlink" href="#calibrating-using-the-ini-file" title="Link to this heading"></a></h3>
<p>The purpose of this calibration type is to automate and to make the calibration
process faster. Please make sure to have the following minimum requirements:</p>
<ul class="simple">
<li><p>A valid calibration file. The file can be generated using the script
mentioned above.</p></li>
<li><p>Firmware v0.26 on your board</p></li>
<li><p>libm2k v0.3.1</p></li>
</ul>
<p>After the board booted, copy the ini file inside the m2k drive. Then eject the
drive (do not unplug!) and wait for ADALM2000 to boot. Once booted, the
temperature calibration lookup table will be usable from libm2k.</p>
<p>If you are using the -f or –file option you should rename the file to
‘m2k-calib-temp-lut.ini’ before copying it to the device.</p>
<p>In order to perform a fast calibration call the fallowing context method:
calibrateFromContext(). The method hasContextCalibration() will validate if the
temperature calibration can be performed on the current board. There are some
reasons why the calibration can be performed:</p>
<ul class="simple">
<li><p>the values are not loaded onto the device</p></li>
<li><p>the values are incorrect (not numerical values)</p></li>
<li><p>some values are missing</p></li>
</ul>
<p>Python example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">libm2k</span>
<span class="n">ctx</span> <span class="o">=</span> <span class="n">libm2k</span><span class="o">.</span><span class="n">m2kOpen</span><span class="p">()</span>
<span class="k">if</span> <span class="n">ctx</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Connection Error: No ADALM2000 device available/connected to your PC.&quot;</span><span class="p">)</span>
    <span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="k">if</span> <span class="n">ctx</span><span class="o">.</span><span class="n">hasContextCalibration</span><span class="p">():</span>
    <span class="n">ctx</span><span class="o">.</span><span class="n">calibrateFromContext</span><span class="p">()</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">ctx</span><span class="o">.</span><span class="n">calibrateADC</span><span class="p">()</span>
    <span class="n">ctx</span><span class="o">.</span><span class="n">calibrateDAC</span><span class="p">()</span>
<span class="c1"># signal processing</span>
<span class="n">libm2k</span><span class="o">.</span><span class="n">contextClose</span><span class="p">(</span><span class="n">ctx</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
</section>


          </div>
              <div class="related">
                &nbsp;
    <a href="index.html" title="Previous document (Alt+Shift+LeftArrow)" class="prev">Libm2k</a>
    <a href="digital_communication.html" title="Next document (Alt+Shift+RightArrow)" class="next">Digital communication</a>
              </div>
          
        </div>
      </div>
  </div>

  <div id="vertical-border"></div>

  <label id="cancel-area-show-toc" for="input-show-toc"></label>
  <label id="cancel-area-show-localtoc" for="input-show-localtoc"></label>
    <footer>
      &#169;2024, Analog Devices, Inc.
      
      |
      Made with <a href="https://www.sphinx-doc.org/">Sphinx</a>
      &amp; <a href="https://github.com/analogdevicesinc/doctools">Doctools</a>
      
    </footer>
  </body>
</html>